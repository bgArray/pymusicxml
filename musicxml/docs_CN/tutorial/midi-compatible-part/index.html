
<!DOCTYPE html>
<html lang="en">
<head>
<title>The MIDI-Compatible Part of MusicXML | MusicXML 4.0</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width">
<link rel="stylesheet" href="../../static/styles.css">

</head>

<body class="has-sidenav">
<div class="topnav">
    <button id="toggle" class="toggle">
        <svg viewBox="0 0 100 80" width="16" height="16" fill="currentColor">
          <rect width="100" height="20" rx="8"></rect>
          <rect y="30" width="100" height="20" rx="8"></rect>
          <rect y="60" width="100" height="20" rx="8"></rect>
        </svg>
    </button>
    <a class="logo" href="../../">
        <span class="logo-text">MusicXML 4.0</span>
    </a>
</div>


<div class="content">
    <nav class="sidenav">
        <img src="../../static/images/back-cg-final.png"/>
<ul>
    <li><b><a href="../../"/>介绍</a></b></li>
    <li><b><a href="../introduction/">教程</a></b></li>
    <ul>
        <li><a href="../hello-world/">"Hello World"（开始）</a></li>
        <li><a href="../structure-of-musicxml-files/">文件结构</a></li>
        <li><a href="./">MIDI 兼容部分</a></li>
        <li><a href="../notation-basics/">基本符号</a></li>
        <li><a href="../chord-symbols-and-diagrams/">和弦符号</a></li>
        <li><a href="../tablature/">指法图</a></li>
        <li><a href="../percussion/">打击乐</a></li>
        <li><a href="../compressed-mxl-files/">压缩的 .MXL 文件</a></li>
        <li><a href="../code-generation/">代码生成</a></li>
    </ul>
    <li><b><a href="../../musicxml-reference/">MusicXML 参考</a></b></li>
    <ul>
        <li><a href="../../musicxml-reference/elements/">元素</a></li>
        <li><a href="../../musicxml-reference/data-types/">数据类型</a></li>
        <li><a href="../../musicxml-reference/examples/">示例</a></li>
    </ul>
    <li><b><a href="../../container-reference/">Container（容器） 参考</a></b></li>
    <ul>
        <li><a href="../../container-reference/elements/">元素</a></li>
        <li><a href="../../container-reference/examples/">示例</a></li>
    </ul>
    <li><b><a href="../../opus-reference/">Opus（作品） 参考</a></b></li>
    <ul>
        <li><a href="../../opus-reference/elements/">元素</a></li>
        <li><a href="../../opus-reference/data-types/">数据类型</a></li>
        <li><a href="../../opus-reference/examples/">示例</a></li>
    </ul>
    <li><b><a href="../../sounds-reference/">Sounds（声音） 参考</a></b></li>
    <ul>
        <li><a href="../../sounds-reference/elements/">元素</a></li>
        <li><a href="../../sounds-reference/data-types/">数据类型</a></li>
        <li><a href="../../sounds-reference/examples/">示例</a></li>
    </ul>
    <li><b><a href="../../listings/overview/">文件列表</a></b></li>
    <ul>
        <li><a href="../../listings/musicxml.xsd/">musicxml.xsd</a></li>
        <li><a href="../../listings/xlink.xsd/">xlink.xsd</a></li>
        <li><a href="../../listings/xml.xsd/">xml.xsd</a></li>
        <li><a href="../../listings/container.xsd/">container.xsd</a></li>
        <li><a href="../../listings/opus.xsd/">opus.xsd</a></li>
        <li><a href="../../listings/sounds.xsd/">sounds.xsd</a></li>
        <li><a href="../../listings/sounds.xml/">sounds.xml</a></li>
        <li><a href="../../listings/catalog.xml/">catalog.xml</a></li>
        <li><a href="../../listings/to31.xsl/">to31.xsl</a></li>
        <li><a href="../../listings/to30.xsl/">to30.xsl</a></li>
        <li><a href="../../listings/to20.xsl/">to20.xsl</a></li>
        <li><a href="../../listings/to11.xsl/">to11.xsl</a></li>
        <li><a href="../../listings/to10.xsl/">to10.xsl</a></li>
        <li><a href="../../listings/parttime.xsl/">parttime.xsl</a></li>
        <li><a href="../../listings/timepart.xsl/">timepart.xsl</a></li>
    </ul>
    <li><b><a href="../../version-history/">历史版本</a></b></li>
    <ul>
        <li><a href="../../version-history/40/">Version 4.0</a></li>
        <li><a href="../../version-history/31/">Version 3.1</a></li>
        <li><a href="../../version-history/30/">Version 3.0</a></li>
        <li><a href="../../version-history/20/">Version 2.0</a></li>
        <li><a href="../../version-history/11/">Version 1.1</a></li>
        <li><a href="../../version-history/10/">Version 1.0</a></li>
    </ul>
</ul>
    </nav>
    <main>
    
<p class="breadcrumb">
    <a href="../../">MusicXML 4.0</a> &gt;
    <a href="../">Tutorial</a> &gt;
    The MIDI-Compatible Part of MusicXML
</p>

<h1>MusicXML的MIDI兼容部分</h1>

        <p>
MusicXML由两种主要类型的元素组成。一组元素被用来表示一首音乐是如何被标记的。这些元素用于在屏幕上或打印中显示乐谱。
            另一组元素用于表示乐谱的声音实现，通常用于MIDI播放。</p>
        <p>我们鼓励编写MusicXML的程序尽可能多地编写准确的数据。然而，唯一需要的元素是从MusicXML创建MIDI文件直接相关的发声（sounding）元素。
            从这里开始，我们将介绍MusicXML文件的发声元素。</p>
        <p>举个<a href="../../musicxml-reference/examples/tutorial-apres-un-reve/">例子</a>，
            我们用Gabriel Fauré的作品"Après un rêve"的前四小节： </p>
        <p id="reve"><img src="../../static/tutorial/reve.png"/></p>
        <h2 id="attributes">属性 （Attributes）</h2>
        <p><a href="../../musicxml-reference/elements/attributes/">&lt;attributes&gt;</a>
            元素包含有关拍号、调号、转调事件、谱号和其他通常被放在一个段落或小节开始处的音乐（元）数据的信息。
            我们在这里先讨论与MIDI兼容元素。
            其他诸如谱号&lt;clef&gt; 和 分谱&lt;staves&gt;将会在后文的导览中介绍。</p>
        <p>在本例中，我们有以下MIDI兼容属性：</p>
<p><pre xml:space="preserve">  &lt;attributes&gt;
    &lt;divisions&gt;24&lt;/divisions&gt;
    &lt;key&gt;
      &lt;fifths&gt;-3&lt;/fifths&gt;
      &lt;mode&gt;minor&lt;/mode&gt;
    &lt;/key&gt;
    &lt;time&gt;
      &lt;beats&gt;3&lt;/beats&gt;
      &lt;beat-type&gt;4&lt;/beat-type&gt;
    &lt;/time&gt;
  &lt;/attributes&gt;</pre>
        <h3 id="divisions">Divisions</h3>
<!--# import mido                                   -->
<!--#                                               -->
<!--# m = mido.midifiles.MidiFile("a.mid")          -->
<!--# m.ticks_per_beat = 480                        -->
        <p>音乐中，符号的持续时间通常被用分数表示：全音符、半音、四分音符等等。
            虽然每个音符都可能有一个与之相关的分数，
            MusicXML却没有同MIDI一样，在每个乐段开始之前标记每个四分音符的分段数(还有tpb：ticks_per_beat)，
            然后根据这些分段指定音符持续时间。
        </p>
        <p>（译者补充：MIDI的计时方式较为灵活，但同时也比较复杂，这里可以自己查查MIDI是如何管理时间坐标的）</p>
        <p>MusicXML允许 <a href="../../musicxml-reference/elements/divisions/">&lt;divisions&gt;</a> 元素的值
            在一个Part中间被修改。
            然而，为了获得最广泛的应用程序兼容性，最好每个Part只计算一个&lt;divisions&gt;，且将它至于第一小节的开始处。
            在这个例子中，divisions的值被设为24意味着既允许八分三连音（可被三整除）和正十六分音符可以被4整除）。</p>
        <p>（译者补充：24是表示一个四分音符被分成了多少份，意味着这是最小可能使用音符分量的一个最小公倍数。在这个事例中，
        谱子里有八分音符和八分三连音（似乎并没有十六分音符），那实际上divisions的值就应该是[2,3]=6（如果是十六分音符的话，
            [4,3]=12）。所以24实际上是允许32分音符出现的。其次，现在建议你直接往下翻到Duration这一节。这里面告诉我们，
        一个八分三连音的持续时间是8，所以实际上就是8/24=1/3个四分音符，也就是八分三连音；也告诉我们一个八分音符的持续时间是12，
        也就是12/24=1/2个四分音符，即八分音符）</p>
        <p>译者存疑：chord的duration表达？</p>
        <h3 id="key">Key（调）</h3>
        <p>歌曲调号的表示方式就像MIDI中的调号事件一样。
            <a href="../../musicxml-reference/elements/fifths/">&lt;fifths&gt;</a> 元素说明了调号中升降号的数量
            ——负降正升。 fifths这个标签的名字表示了该值表示的是调号在五度圈上的位置。
            MusicXML用<a href="../../musicxml-reference/elements/mode/">&lt;mode&gt;</a>
            元素区分大小调。</p>
        <h3 id="time">Time（拍）</h3>
        <p>在MusicXML中，歌曲的拍号比MIDI 1.0更加直接地表示出来。
            <a href="../../musicxml-reference/elements/beats/">&lt;beats&gt;</a> 元素描述了拍号的分子，
            <a href="../../musicxml-reference/elements/beat-type/">&lt;beat-type&gt;</a> 元素描述了拍号的分母。
            这其中有可能有很多变化，
            包括复合拍号（composite time signatures）和可互换拍号（interchangeable time signature）。
            （译者补充：虽然我没怎么用这两个拍号，但似乎确实有许多不常见的拍号会出现，另外好像查资料的过程中还看到了：
             交替拍号（alternating time signatures）。）
        </p>
        <h3 id="transpose">Transpose（移调）</h3>
        <p>如果您正在为需要移调的乐器编写Part，则必须在MusicXML中指定Transpose，以便声音输出正确。
            <a href="../../musicxml-reference/elements/transpose/">&lt;transpose&gt;</a>
            元素表示必须添加到书写音高中才能获得正确的音高。</p>
        <p><a href="../../musicxml-reference/elements/chromatic/">&lt;chromatic&gt;</a>元素，
            表示要添加到书写音高的半音阶数，是必要的一个元素。
            <a href="../../musicxml-reference/elements/diatonic/">&lt;diatonic（自然音阶）&gt;</a>、
            <a href="../../musicxml-reference/elements/octave-change/">&lt;octave-change（八度改变）&gt;</a>和
            <a href="../../musicxml-reference/elements/double/">&lt;double（低八度的）&gt;</a> 是可选元素。</p>
        <p>假设我们有一部分是为降B小调写的。
            这部分写的“C“在钢琴上听起来就像降B音。
            这种转调是一种自然音阶下行（C-B），和两个半音阶下行（C-B-降B）。
            在MusicXML中，它将表示为：</p>
        <p><pre xml:space="preserve">    &lt;transpose&gt;
      &lt;diatonic&gt;-1&lt;/diatonic&gt;
      &lt;chromatic&gt;-2&lt;/chromatic&gt;
    &lt;/transpose&gt;</pre>
        <p>正确的MIDI输出不需要&lt;diatonic&gt;元素，
            但它有助于获得正确的转调符号，并鼓励程序尽可能使用它。</p>
        <p>当在任何一个方向上转调超过一个八度时，都会使用&lt;octave-change&gt;元素。
            &lt;double&gt;元素用于当part应加倍到更低或更高的八度时，
            例如当单个part用于大提琴和低音提琴，或用于长笛和短笛时。</p>
        <h2 id="pitch">音调（Pitch）</h2>
        <p>音高、持续时间（duration）、音调和歌词都在MusicXML
            <a href="../../musicxml-reference/elements/note/">&lt;note&gt;</a> 元素中表示。
            例如，人声部分中开始小节3的降E具有以下MIDI兼容元素：</p>
        <p><pre xml:space="preserve">  &lt;note&gt;
    &lt;pitch&gt;
      &lt;step&gt;E&lt;/step&gt;
      &lt;alter&gt;-1&lt;/alter&gt;
      &lt;octave&gt;5&lt;/octave&gt;
    &lt;/pitch&gt;
    &lt;duration&gt;24&lt;/duration&gt;
    &lt;tie type="start"/&gt;
    &lt;lyric&gt;
      &lt;syllabic&gt;end&lt;/syllabic&gt;
      &lt;text&gt;meil&lt;/text&gt;
      &lt;extend/&gt;
    &lt;/lyric&gt;
  &lt;/note&gt;</pre>
        <p>In MIDI, a pitch is represented by a single number. MusicXML divides pitch into three parts: the <a href="../../musicxml-reference/elements/step/">&lt;step&gt;</a> element (A, B, C, D, E, F, or G), an optional <a href="../../musicxml-reference/elements/alter/">&lt;alter&gt;</a> element (-1 for flat, 1 for sharp), and an <a href="../../musicxml-reference/elements/octave/">&lt;octave&gt;</a> element (4 for the octave starting with middle C).</p>
<p>The <a href="../../musicxml-reference/elements/pitch/">&lt;pitch&gt;</a> element requires an &lt;alter&gt; element, even if the accidental is already in the key signature. Although the &lt;alter&gt; element does not change how the pitch is notated, it ensures proper playback and transposition. This is why the E-flat contains an &lt;alter&gt; element, though there is no accidental on the note.</p>
        <p>Alter values of -2 and 2 can be used for double-flat and double-sharp. Decimal values can be used for microtones (e.g., 0.5 for a quarter-tone sharp), but not all programs may convert this into MIDI pitch-bend data.</p>
        <p>For rests, a <a href="../../musicxml-reference/elements/rest/">&lt;rest&gt;</a> element is used instead of the pitch element. The whole rest in 3/4 that begins the voice part is represented as:</p>
        <p><pre xml:space="preserve">  &lt;note&gt;
    &lt;rest measure="yes"/&gt;
    &lt;duration&gt;72&lt;/duration&gt;
  &lt;/note&gt;</pre>
        <h2 id="duration">Duration</h2>
        <p>The <a href="../../musicxml-reference/elements/duration/">&lt;duration&gt;</a> element is an integer that represents a note's duration in terms of divisions per quarter note. Since our example has 24 divisions per quarter note, a quarter note has a duration of 24. The eighth-note triplets have a duration of 8, while the eighth notes have a duration of 12.</p>
        <h2 id="tied">Tied Notes</h2>
        <p>The sounding part of a tied note is indicated by the <a href="../../musicxml-reference/elements/tie/">&lt;tie&gt;</a> element. The &lt;tie&gt; element has a type of start for the starting note of a tie, and a type of stop for the ending note in a tie. A &lt;note&gt; element can have two &lt;tie&gt; elements. If a note is tied to the notes both before and after it, place the tie to the previous note, &lt;tie type="stop"&gt;, before the &lt;tie type="start"&gt; to the next note.</p>
        <h2 id="chords">Chords</h2>
        <p>The &lt;duration&gt; elements in MusicXML move a musical counter. To play chords, we need to indicate that a note should start at the same time as the previous note, rather than following the previous note. To do this in MusicXML, add a <a href="../../musicxml-reference/elements/chord/">&lt;chord&gt;</a> element to the note.</p>
        <p>In our example, the piano part does not have rhythms more complex than eighth notes, so our converter sets the divisions value to 2. With 2 divisions per quarter note, the sound portion of the first chord in the piano part is represented as:</p>
        <p><pre xml:space="preserve">  &lt;note&gt;
    &lt;pitch&gt;
      &lt;step&gt;C&lt;/step&gt;
      &lt;octave&gt;4&lt;/octave&gt;
    &lt;/pitch&gt;
    &lt;duration&gt;1&lt;/duration&gt;
  &lt;/note&gt;
  &lt;note&gt;
    &lt;chord/&gt;
    &lt;pitch&gt;
      &lt;step&gt;E&lt;/step&gt;
      &lt;alter&gt;-1&lt;/alter&gt;
      &lt;octave&gt;4&lt;/octave&gt;
    &lt;/pitch&gt;
    &lt;duration&gt;1&lt;/duration&gt;
  &lt;/note&gt;
  &lt;note&gt;
    &lt;chord/&gt;
    &lt;pitch&gt;
      &lt;step&gt;G&lt;/step&gt;
      &lt;octave&gt;4&lt;/octave&gt;
    &lt;/pitch&gt;
    &lt;duration&gt;1&lt;/duration&gt;
  &lt;/note&gt;</pre>
        <p>Each note in the chord following the first one includes a &lt;chord&gt; element before the &lt;pitch&gt; element.</p>
        <p>If you find that you have notes in a chord with different durations, you are probably better representing this as multi-part music rather than a chord. If you must have notes with different durations in the chord, the longest note must be the first note in the chord.</p>
        <h2 id="lyrics">Lyrics</h2>
        <p>While lyrics are not yet used in sound generation, they are included in Standard MIDI files, so we will discuss them here with the other MIDI-compatible features of MusicXML.</p>
        <p>Lyrics in MusicXML use an optional <a href="../../musicxml-reference/elements/syllabic/">&lt;syllabic&gt;</a> element to indicate how a syllable fits into a word, rather than having conventions based on hyphens and spaces as some other formats do. The values for syllabic can be "single", "begin", "end", or "middle". We saw earlier that the E-flat starting the third measure had a syllabic value of "end", since "meil" was the end of a two-syllable word. The "ma" syllable in "image" has a syllabic value of "middle". In the second measure, the notes are:</p>
        <p><pre xml:space="preserve">  &lt;note&gt;
    &lt;pitch&gt;
      &lt;step&gt;G&lt;/step&gt;
      &lt;octave&gt;4&lt;/octave&gt;
    &lt;/pitch&gt;
    &lt;duration&gt;24&lt;/duration&gt;
    &lt;lyric&gt;
      &lt;syllabic&gt;single&lt;/syllabic&gt;
      &lt;text&gt;Dans&lt;/text&gt;
    &lt;/lyric&gt;
  &lt;/note&gt;
  &lt;note&gt;
    &lt;pitch&gt;
      &lt;step&gt;C&lt;/step&gt;
      &lt;octave&gt;5&lt;/octave&gt;
    &lt;/pitch&gt;
    &lt;duration&gt;24&lt;/duration&gt;
    &lt;lyric&gt;
      &lt;syllabic&gt;single&lt;/syllabic&gt;
      &lt;text&gt;un&lt;/text&gt;
    &lt;/lyric&gt;
  &lt;/note&gt;
  &lt;note&gt;
    &lt;pitch&gt;
      &lt;step&gt;D&lt;/step&gt;
      &lt;octave&gt;5&lt;/octave&gt;
    &lt;/pitch&gt;
    &lt;duration&gt;24&lt;/duration&gt;
    &lt;lyric&gt;
      &lt;syllabic&gt;begin&lt;/syllabic&gt;
      &lt;text&gt;som&lt;/text&gt;
    &lt;/lyric&gt;
  &lt;/note&gt;</pre>
        <p>The actual text of the lyric is specified in the <a href="../../musicxml-reference/elements/text/">&lt;text&gt;</a> element. A note may have multiple syllables, in which case the multiple &lt;syllabic&gt;/&lt;text&gt; element pairs should be separated by an <a href="../../musicxml-reference/elements/elision/">&lt;elision&gt;</a> element. Word extensions may be indicated by using the <a href="../../musicxml-reference/elements/extend/">&lt;extend&gt;</a> element, as in the “meil” syllable above.</p>
        <p>Multiple verses are indicating using multiple <a href="../../musicxml-reference/elements/lyric/">&lt;lyric&gt;</a> elements. The number and name attributes can be used to distinguish them: &lt;lyric number="1"&gt; for the first verse, &lt;lyric number="2"&gt; for the second.</p>
        <p>MusicXML has <a href="../../musicxml-reference/elements/end-line/">&lt;end-line&gt;</a> and <a href="../../musicxml-reference/elements/end-paragraph/">&lt;end-paragraph&gt;</a> elements to support Standard MIDI File Lyric meta-events specified in RP-017. These are used for karaoke and similar applications. Elements for <a href="../../musicxml-reference/elements/humming/">&lt;humming&gt;</a> and <a href="../../musicxml-reference/elements/laughing/">&lt;laughing&gt;</a> may also be included, though they do not have MIDI equivalents. These lyric elements have not yet been implemented in MusicXML software.</p>
        <h2 id="multipart">Multi-Part Music</h2>
        <p>While monophonic instruments like trumpet, flute, and voice move along one note at a time, instruments like the piano can have many musical lines at once. Take this simple <a href="../../musicxml-reference/examples/tutorial-chopin-prelude/">example</a> from the first bar of Frederic Chopin's Prelude, Op. 28, No. 20:</p>
        <p id="chopin"><img src="../../static/tutorial/chopin.png"/></p>
        <p>Within the piano part, there are two musical lines for the left hand and right hand, represented in the two staves. On the third beat of the bar, the right hand divides into two lines as well.</p>
        <p>We mentioned earlier that the &lt;duration&gt; element in a note moves the MusicXML musical counter, and that a &lt;chord&gt; element keeps this counter from moving further. In order to represent parallel musical parts, we need to be able to move the musical counter forwards and backwards independently of notes. This is what the <a href="../../musicxml-reference/elements/forward/">&lt;forward&gt;</a> and <a href="../../musicxml-reference/elements/backup/">&lt;backup&gt;</a> elements let us do.</p>
        <p>Let's say we have 4 divisions per quarter in this example. We could approach the divided parts in the right hand in two ways. Finale, for instance, can represent multiple parts using either the layer feature or the voice 1/voice 2 feature. When using layers, each independent part generally covers a complete measure. Say that the G and B-natural on beat 3 are in layer 2, with all the other notes in layer 1. After completing the last chord in layer 1, we would use the following to add the layer 2 notes:</p>
        <p><pre xml:space="preserve">  &lt;backup&gt;
    &lt;duration&gt;16&lt;/duration&gt;
  &lt;/backup&gt;
  &lt;forward&gt;
    &lt;duration&gt;8&lt;/duration&gt;
  &lt;/forward&gt;
  &lt;note&gt;
    &lt;pitch&gt;
      &lt;step&gt;G&lt;/step&gt;
      &lt;octave&gt;3&lt;/octave&gt;
    &lt;/pitch&gt;
    &lt;duration&gt;4&lt;/duration&gt;
  &lt;/note&gt;
  &lt;note&gt;
    &lt;chord/&gt;
    &lt;pitch&gt;
      &lt;step&gt;B&lt;/step&gt;
      &lt;octave&gt;3&lt;/octave&gt;
    &lt;/pitch&gt;
    &lt;duration&gt;4&lt;/duration&gt;
  &lt;/note&gt;
  &lt;forward&gt;
    &lt;duration&gt;4&lt;/duration&gt;
  &lt;/forward&gt;</pre>
        <p>The first &lt;backup&gt; element moves the counter back to the beginning of the measure. The &lt;forward&gt; element that follows serves as an invisible half rest. The two &lt;note&gt; elements provide the quarter note chord. The last &lt;forward&gt; element serves as an invisible quarter note rest to move the music counter up to the end of the measure.</p>
        <p>On the other hand, we could use the voice 1/voice 2 feature on the third beat to indicate a temporary split in the parts. In this case, we would have something like:</p>
        <p><pre xml:space="preserve">  &lt;note&gt;
    &lt;pitch&gt;
      &lt;step&gt;G&lt;/step&gt;
      &lt;octave&gt;3&lt;/octave&gt;
    &lt;/pitch&gt;
    &lt;duration&gt;4&lt;/duration&gt;
  &lt;/note&gt;
  &lt;note&gt;
    &lt;chord/&gt;
    &lt;pitch&gt;
      &lt;step&gt;B&lt;/step&gt;
      &lt;octave&gt;3&lt;/octave&gt;
    &lt;/pitch&gt;
    &lt;duration&gt;4&lt;/duration&gt;
  &lt;/note&gt;
  &lt;backup&gt;
    &lt;duration&gt;4&lt;/duration&gt;
  &lt;/backup&gt;
  &lt;note&gt;
    &lt;pitch&gt;
      &lt;step&gt;E&lt;/step&gt;
      &lt;alter&gt;-1&lt;/alter&gt;
      &lt;octave&gt;4&lt;/octave&gt;
    &lt;/pitch&gt;
    &lt;duration&gt;3&lt;/duration&gt;
  &lt;/note&gt;
  &lt;note&gt;
    &lt;chord/&gt;
    &lt;pitch&gt;
      &lt;step&gt;G&lt;/step&gt;
      &lt;octave&gt;4&lt;/octave&gt;
    &lt;/pitch&gt;
    &lt;duration&gt;3&lt;/duration&gt;
  &lt;/note&gt;
  &lt;note&gt;
    &lt;pitch&gt;
      &lt;step&gt;D&lt;/step&gt;
      &lt;octave&gt;4&lt;/octave&gt;
    &lt;/pitch&gt;
    &lt;duration&gt;1&lt;/duration&gt;
  &lt;/note&gt;
  &lt;note&gt;
    &lt;chord/&gt;
    &lt;pitch&gt;
      &lt;step&gt;F&lt;/step&gt;
      &lt;octave&gt;4&lt;/octave&gt;
    &lt;/pitch&gt;
    &lt;duration&gt;1&lt;/duration&gt;
  &lt;/note&gt;</pre>
        <p>Here, all that is needed is a &lt;backup&gt; element to go backup over the quarter note so that the dotted eighth and sixteenth are positioned properly.</p>
        <p>MusicXML can handle either type of multi-part writing. In Finale, most users find it easier to use layers rather than voice 1/voice 2, so our Finale-based examples will use that idiom more often. But the choice of what to use is up to you, based on what fits your software best.</p>
        <p>In both cases, we would then use a &lt;backup&gt; element with a duration of 16 to move from the end of the first staff to the beginning of the second staff, where we can continue with the left-hand line. MusicXML offers more features for multi-part and multi-staff writing that will be described in later sections, but the elements listed here are all that are needed for multi-part sound output.</p>
        <h2 id="repeats">Repeats</h2>
        <p>Repeats and endings are represented by the <a href="../../musicxml-reference/elements/repeat/">&lt;repeat&gt;</a> and <a href="../../musicxml-reference/elements/ending/">&lt;ending&gt;</a> elements within a <a href="../../musicxml-reference/elements/barline/">&lt;barline&gt;</a> element. In regular measures, there is no need to include the &lt;barline&gt; element. It is only needed to represent repeats, endings, and graphical styles such as double barlines.</p>
        <p>A forward repeat mark is represented by a left barline at the beginning of the measure (following the &lt;attributes&gt; element, if there is one):</p>
        <p><pre xml:space="preserve">  &lt;barline location="left"&gt;
    &lt;bar-style&gt;heavy-light&lt;/bar-style&gt;
    &lt;repeat direction="forward"/&gt;
  &lt;/barline&gt;</pre>
        <p>The &lt;repeat&gt; element is what is used for sound generation; the <a href="../../musicxml-reference/elements/bar-style/">&lt;bar-style&gt;</a> element only indicates graphic appearance.</p>
        <p>Similarly, a backward repeat mark is represented by a right barline at the end of the measure:</p>
        <p><pre xml:space="preserve">  &lt;barline location="right"&gt;
    &lt;bar-style&gt;light-heavy&lt;/bar-style&gt;
    &lt;repeat direction="backward"/&gt;
  &lt;/barline&gt;</pre>
        <p>While repeats can have forward or backward direction, endings can have three different type attributes: start, stop, and discontinue. The start value is used at the beginning of an ending, at the beginning of a measure. A typical first ending starts like this:</p>
        <p><pre xml:space="preserve">  &lt;barline location="left"&gt;
    &lt;ending type="start" number="1"/&gt;
  &lt;/barline&gt;</pre>
        <p>The stop value is used when the end of the ending is marked with a downward hook, as is typical for a first ending. It is usually used together with a backward repeat at the end of a measure:</p>
        <p><pre xml:space="preserve">  &lt;barline location="right"&gt;
    &lt;bar-style&gt;light-heavy&lt;/bar-style&gt;
    &lt;ending type="stop" number="1"/&gt;
    &lt;repeat direction="backward"/&gt;
  &lt;/barline&gt;</pre>
        <p>The discontinue value is typically used for the last ending in a set, where there is no downward hook to mark the end of an ending:</p>
        <p><pre xml:space="preserve">  &lt;barline location="right"&gt;
    &lt;ending type="discontinue" number="2"/&gt;
  &lt;/barline&gt;</pre>
        <h2 id="sound">Sound Suggestions</h2>
        <p>Musical scores abound with ambiguous notations for dynamics, tempo, and other musical elements. To automatically generate a MIDI or other sound file, some value must be used for dynamics or tempo. MusicXML defaults to a MIDI velocity of 90 (roughly a forte); no default tempo is specified.</p>
        <p>Sound suggestion elements and attributes guide the creation of a sound file. Most of the sound suggestions are found in the <a href="../../musicxml-reference/elements/sound/">&lt;sound&gt;</a> element. Tempo is specified in quarter notes per minute. Dynamics are specified as a percentage of the standard MusicXML forte velocity. For example, the following &lt;sound&gt; element specifies a tempo of quarter note = 88 with a MIDI velocity of 64:</p>
        <p><pre xml:space="preserve">  &lt;sound tempo="88" dynamics="71"/&gt;</pre>
        <p>Sound suggestions are also available for grace notes (the steal-time-previous, steal-time-following, and make-time attributes for the <a href="../../musicxml-reference/elements/grace/">&lt;grace&gt;</a> element) and for ornaments (e.g. the start-note, trill-step, two-note-turn, accelerate, beats, second-beat, and last-beat attributes for the <a href="../../musicxml-reference/elements/trill-mark/">&lt;trill-mark&gt;</a> element).</p>

<p>Next: <a href="../notation-basics/">Notation Basics in MusicXML</a>

    </main>
</div>


<script type="text/javascript" src="../../static/global.js"></script>

</body>
</html>
